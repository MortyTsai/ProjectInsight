# configs/templates/project.template.yaml
# ======================================================================
# ProjectInsight - 專案分析設定範本
# ======================================================================
# 說明:
# 1. 這是 ProjectInsight 的一份完整功能設定檔範本，也是一份內嵌式的使用手冊。
# 2. 將此檔案複製到 'configs/projects/' 目錄下並為您的專案重新命名。
# 3. 大多數選項都有智慧預設值，您只需修改標有 [必要] 的部分即可快速開始。
# ======================================================================


# ======================================================================
# Part 1: 專案基礎設定 (Project Basics)
# ======================================================================
# 此區塊定義了被分析專案的基本資訊。
# ----------------------------------------------------------------------

# [必要] 要分析的目標專案的「根目錄」。
target_project_path: "../../../MyAwesomeProject"

# [必要] 目標專案的根套件名稱。
root_package_name: "my_awesome_package"

# [可選] 生成報告與圖表的輸出目錄。
output_dir: "../../output/my_awesome_project"

# [可選] 強制執行完整分析。
# force_analysis: true


# ======================================================================
# Part 2: 分析類型與詳細配置 (Analysis Configuration)
# ======================================================================
# 此區塊用於選擇要執行的分析類型，並為每種分析提供詳細設定。
# ----------------------------------------------------------------------

analysis_types:
  - "component_interaction"
  - "auto_concept_flow"
  - "dynamic_behavior"

auto_concept_flow:
  exclude_patterns:
    - "*_LOGGER"
    - "*_VERSION"

dynamic_behavior_analysis:
  roles:
    producer: { name: "生產者 (Producer)", color: "#FFDDC1" }
    consumer: { name: "消費者 (Consumer)", color: "#C1E1FF" }
  rules: []


# ======================================================================
# Part 3: 報告內容設定 (Report Settings)
# ======================================================================
report_settings:
  tree_view:
    exclude_dirs:
      - "__pycache__"
      - ".git"
      - ".idea"
      - "venv"
      - ".venv"
      - "dist"
      - "build"
      - "output"
      - ".ruff_cache"
      - "*.egg-info"
      - "tests"
      - "docs"
    exclude_extensions:
      - ".md"
      - ".txt"
      - ".json"
      - ".lock"
    exclude_files:
      - "LICENSE"
      - "README.md"
      - ".*"
  source_code:
    included_extensions:
      - ".py"
      - ".yaml"
      - ".toml"


# ======================================================================
# Part 4: 視覺化設定 (可選, 所有選項均有智慧預設值)
# ======================================================================
visualization:
  component_interaction_graph:
    layout_engine: "dot"
    dpi: 200

    # [專家模式] 大型專案分析策略
    # ------------------------------------------------------------------
    focus:
      # [智慧化新功能] 智慧化深度調整
      # ----------------------------------------------------------------
      # 當啟用時，如果初始搜索（使用 initial_depth）產生的節點數少於 min_nodes，
      # 系統將自動增加搜索深度，每次加 1，直到達到 min_nodes 或 max_search_depth。
      # 這可以確保即使在呼叫鏈很長的框架中，也能生成一個有意義的圖。
      #
      # 預設值: true
      enable_dynamic_depth: true
      # 觸發動態增加深度的最小節點數。
      # 預設值: 10
      min_nodes: 10
      # 智慧化搜索的最大深度限制，以防止圖變得過於龐大或陷入無限循環。
      # 預設值: 7
      max_search_depth: 7
      # ----------------------------------------------------------------

      # [必要] 一個或多個您想分析的核心組件的 FQN (完整路徑)。
      # 可以由智慧推薦精靈自動填入。
      entrypoints:
        - "my_package.main.main_function"
      # 初始搜索深度。如果啟用了智慧化深度調整，這將是起始深度。
      # 預設值: 2
      initial_depth: 2

    filtering:
      exclude_nodes:
        - "*tests*"
        - "*migrations*"

    layout:
      show_internal_calls: true
      aspect_ratio: "auto"
      # ranking_groups:
      #   - ["my_package.main", "my_package.web.*"]
      #   - ["my_package.services.*"]
      #   - ["my_package.utils.*"]
    node_styles:
      show_docstrings: true
      title:
        font_size: 11
        path_color: "#555555"
        main_color: "#000000"
      docstring:
        font_size: 9
        color: "#333333"
        spacing: 8

  dynamic_behavior_graph:
    layout_engine: "dot"
    dpi: 200
    node_styles:
      show_docstrings: true
      title:
        font_size: 11
        path_color: "#555555"
        main_color: "#000000"
      docstring:
        font_size: 9
        color: "#333333"
        spacing: 8

# ======================================================================
# Part 5: 架構層級定義 (可選, 系統會自動發現)
# ======================================================================
# architecture_layers:
#   core:
#     color: "#FF0000"
#   services:
#     name: "核心業務服務層"
#     color: "#D1FFC1"