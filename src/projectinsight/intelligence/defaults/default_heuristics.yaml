# src/projectinsight/intelligence/defaults/default_heuristics.yaml
# ======================================================================
# ProjectInsight - 智慧入口點發現 - 預設啟發式計分規則 (V13 - 決勝分版)
# ======================================================================
# 說明:
# V13 版本為核心架構模式（如 Router, API, App）增加了顯著的啟發式
# 獎勵，以作為打破同分僵局的最終決勝分。
# ======================================================================

# --- 權重設定 ---
weights:
  heuristic_score: 0.2
  centrality_score: 3.5
  entry_point_score: 3.0

# --- 啟發式計分規則 (Heuristic Scoring Rules) ---
scoring_rules:
  by_definition_type:
    class: 5

  by_module_path:
    - { pattern: "*.__main__", score: 40 }
    - { pattern: "*.main", score: 10 }
    - { pattern: "*.app", score: 10 }
    - { pattern: "*.server", score: 10 }
    - { pattern: "*.wsgi", score: 10 }
    - { pattern: "*.asgi", score: 10 }
    - { pattern: "*.cli", score: 10 }
    - { pattern: "*.manage", score: 5 }
    - { pattern: "scripts.*", score: -30 }
    - { pattern: "docs.*", score: -50 }
    - { pattern: "*tasks*", score: -15 }
    - { pattern: "*jobs*", score: -15 }
    - { pattern: "*settings*", score: -20 }
    - { pattern: "*config*", score: -20 }
    - { pattern: "*tests*", score: -50 }
    - { pattern: "*utils*", score: -30 }
    - { pattern: "*helpers*", score: -30 }
    - { pattern: "*__init__", score: -100 }
  by_definition_name:
    - { pattern: "*Router", score: 25 }
    - { pattern: "*API", score: 25 }
    - { pattern: "*App", score: 20 }
    - { pattern: "*Application", score: 20 }
    - { pattern: "main", score: 15 }
    - { pattern: "run", score: 10 }
    - { pattern: "start", score: 10 }
    - { pattern: "app", score: 15 }
    - { pattern: "application", score: 15 }
    - { pattern: "handler", score: 10 }
    - { pattern: "router", score: 10 }
    - { pattern: "service", score: 5 }
    - { pattern: "manager", score: 5 }
  by_code_feature:
    - { feature: "has___main__block", score: 20 }

# --- 生態位分析規則 (Ecosystem Analysis Rules) ---
entry_points_bonus: 150

